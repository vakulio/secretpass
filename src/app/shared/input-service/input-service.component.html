<div class="relative">
  <input
    [formControl]="control"
    [type]="type"
    class="border-2 border-gray-900 p-2 rounded-lg w-full"
    [placeholder]="placeholder"
    [id]="labelFor"
    [mask]="format"
    [dropSpecialCharacters]="false"
  />
  <span
    *ngIf="type === 'password' || passwordVisibility"
    (click)="toggleInputType()"
    class="absolute top-4 right-3 cursor-pointer"
  >
    <span *ngIf="!passwordVisibility">
      <svg
        width="1rem"
        height="1rem"
        viewBox="0 0 16 11"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        fit=""
        preserveAspectRatio="xMidYMid meet"
        focusable="false"
      >
        <path
          d="M7.9974 2.50046C10.5241 2.50046 12.7774 3.92046 13.8774 6.16712C13.4841 6.98046 12.9307 7.68046 12.2707 8.24712L13.2107 9.18712C14.1374 8.36712 14.8707 7.34046 15.3307 6.16712C14.1774 3.24046 11.3307 1.16712 7.9974 1.16712C7.15073 1.16712 6.3374 1.30046 5.57073 1.54712L6.67073 2.64712C7.10406 2.56046 7.54406 2.50046 7.9974 2.50046ZM7.28406 3.26046L8.66406 4.64046C9.04406 4.80712 9.35073 5.11379 9.5174 5.49379L10.8974 6.87379C10.9507 6.64712 10.9907 6.40712 10.9907 6.16046C10.9974 4.50712 9.65073 3.16712 7.9974 3.16712C7.75073 3.16712 7.5174 3.20046 7.28406 3.26046ZM1.3374 1.08046L3.12406 2.86712C2.0374 3.72046 1.1774 4.85379 0.664062 6.16712C1.8174 9.09379 4.66406 11.1671 7.9974 11.1671C9.01073 11.1671 9.98406 10.9738 10.8774 10.6205L13.1574 12.9005L14.0974 11.9605L2.2774 0.133789L1.3374 1.08046ZM6.3374 6.08046L8.0774 7.82046C8.05073 7.82712 8.02406 7.83379 7.9974 7.83379C7.0774 7.83379 6.33073 7.08712 6.33073 6.16712C6.33073 6.13379 6.3374 6.11379 6.3374 6.08046ZM4.07073 3.81379L5.2374 4.98046C5.08406 5.34712 4.9974 5.74712 4.9974 6.16712C4.9974 7.82046 6.34406 9.16712 7.9974 9.16712C8.4174 9.16712 8.8174 9.08046 9.1774 8.92712L9.83073 9.58046C9.24406 9.74046 8.63073 9.83379 7.9974 9.83379C5.47073 9.83379 3.2174 8.41379 2.1174 6.16712C2.58406 5.21379 3.26406 4.42712 4.07073 3.81379Z"
          fill="#212529"
        ></path>
      </svg>
    </span>
    <span *ngIf="passwordVisibility">
      <svg
        width="1rem"
        height="1rem"
        viewBox="0 0 16 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        fit=""
        preserveAspectRatio="xMidYMid meet"
        focusable="false"
      >
        <path
          d="M7.9974 1.49984C10.5241 1.49984 12.7774 2.91984 13.8774 5.1665C12.7774 7.41317 10.5241 8.83317 7.9974 8.83317C5.47073 8.83317 3.2174 7.41317 2.1174 5.1665C3.2174 2.91984 5.47073 1.49984 7.9974 1.49984ZM7.9974 0.166504C4.66406 0.166504 1.8174 2.23984 0.664062 5.1665C1.8174 8.09317 4.66406 10.1665 7.9974 10.1665C11.3307 10.1665 14.1774 8.09317 15.3307 5.1665C14.1774 2.23984 11.3307 0.166504 7.9974 0.166504ZM7.9974 3.49984C8.9174 3.49984 9.66406 4.2465 9.66406 5.1665C9.66406 6.0865 8.9174 6.83317 7.9974 6.83317C7.0774 6.83317 6.33073 6.0865 6.33073 5.1665C6.33073 4.2465 7.0774 3.49984 7.9974 3.49984ZM7.9974 2.1665C6.34406 2.1665 4.9974 3.51317 4.9974 5.1665C4.9974 6.81984 6.34406 8.1665 7.9974 8.1665C9.65073 8.1665 10.9974 6.81984 10.9974 5.1665C10.9974 3.51317 9.65073 2.1665 7.9974 2.1665Z"
          fill="#212529"
        ></path>
      </svg>
    </span>
  </span>
  <ng-container *ngIf="control.touched && control.dirty">
    <p *ngIf="control.errors?.['pattern']" class="text-red-400">
      Sorry, no image URLs matching the pattern /(http:\/\/.*?\.(jpg|png|gif))/g
      were found in the provided text. Please make sure the text contains valid
      URLs with extensions .jpg, .png, or .gif.
    </p>
    <p *ngIf="control.errors?.['required']" class="text-red-400">
      Field is required
    </p>
    <p *ngIf="control.errors?.['minlength']" class="text-red-400">
      The value you inputted is
      {{ control.errors?.['minlength'].actualLength }} characters long. It must
      be at least {{ control.errors?.['minlength'].requiredLength }} characters
      long.
    </p>
  </ng-container>
</div>
